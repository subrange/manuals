import{marked as e}from"https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";document.addEventListener("DOMContentLoaded",async()=>{window.lucide&&"function"==typeof lucide.createIcons&&lucide.createIcons();let t=document.getElementById("sidebarBtnLeft"),i=document.getElementById("sidebarLeft"),s=document.getElementById("sidebarOverlayLeft"),a=document.getElementById("sidebarCloseLeft"),n=document.getElementById("sidebarList"),l=document.getElementById("contentHtml"),c=document.getElementById("siteTitle"),d=document.getElementById("sidebarHeading"),r=document.getElementById("messages"),o=document.getElementById("themeToggle"),m=document.getElementById("themeIcon"),h=document.getElementById("mdTheme"),g=document.getElementById("hlTheme");function v(e){let t="dark"===e;document.documentElement.classList.toggle("dark",t),h.href=t?"https://cdn.jsdelivr.net/npm/github-markdown-css@5.8.1/github-markdown-dark.min.css":"https://cdn.jsdelivr.net/npm/github-markdown-css@5.8.1/github-markdown-light.min.css",g.href=t?"https://cdn.jsdelivr.net/npm/highlight.js@11.11.0/styles/github-dark.min.css":"https://cdn.jsdelivr.net/npm/highlight.js@11.11.0/styles/github.min.css",m.setAttribute("data-lucide",t?"sun":"moon"),lucide.createIcons(),localStorage.setItem("ripe:theme",e)}function y(){l.classList.add("hidden"),c.style.visibility="visible",r.classList.remove("hidden"),localStorage.removeItem("ripe:lastPath")}function p(t){l.classList.remove("hidden"),l.innerHTML=`<div class="markdown-body" style="padding:1rem;">${e.parse(t)}</div>`;try{hljs.highlightAll()}catch{}c.style.visibility="hidden",r.classList.add("hidden")}async function L(e){let t=await fetch(e);if(!t.ok)throw Error("Failed to load");let i=await t.text();p(i),localStorage.setItem("ripe:lastPath",e)}async function f(){try{let e=window.location.pathname.startsWith("/src")?"./content/index.json":"/content/index.json",t=await fetch(e),a=await t.json();for(let l of(n.innerHTML="",a)){let c=document.createElement("a");c.textContent=l.title,c.href="#",c.dataset.path=l.path,c.addEventListener("click",async e=>{e.preventDefault(),await L(l.path),n.querySelectorAll("a").forEach(e=>e.classList.toggle("active",e.dataset.path===l.path)),i.classList.remove("active"),s.classList.remove("active")}),n.appendChild(c)}let d=localStorage.getItem("ripe:lastPath");d?(await L(d),n.querySelectorAll("a").forEach(e=>e.classList.toggle("active",e.dataset.path===d))):y()}catch{y()}finally{document.body.classList.remove("initially-hidden")}}v(window.__ripeTheme__||"light"),o.addEventListener("click",()=>{let e=document.documentElement.classList.contains("dark");if(v(e?"light":"dark"),!l.classList.contains("hidden"))try{hljs.highlightAll()}catch{}}),await f(),t.onclick=()=>{i.classList.toggle("active"),s.classList.toggle("active")},s.onclick=a.onclick=()=>{i.classList.remove("active"),s.classList.remove("active")},c.onclick=y,d.onclick=()=>{y(),i.classList.remove("active"),s.classList.remove("active")}});